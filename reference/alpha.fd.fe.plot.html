<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Illustrate Functional Diversity indices based on Functional Entities — alpha.fd.fe.plot • mFD</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Illustrate Functional Diversity indices based on Functional Entities — alpha.fd.fe.plot"><meta name="description" content="Graphical representation of distribution of species in Functional
Entities (FE) and of indices from Mouillot et al. (2014). To plot
functional indices, functional indices values must have been computed first
through the use of the alpha.fd.fe function."><meta property="og:description" content="Graphical representation of distribution of species in Functional
Entities (FE) and of indices from Mouillot et al. (2014). To plot
functional indices, functional indices values must have been computed first
through the use of the alpha.fd.fe function."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mFD</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.7.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/mFD_general_workflow.html">mFD: General Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/Compute_and_interpret_quality_of_functional_spaces.html">Compute and Interpret Quality of Functional Spaces</a></li>
    <li><a class="dropdown-item" href="../articles/Continuous_traits_framework.html">Continuous Traits Framework</a></li>
    <li><a class="dropdown-item" href="../articles/How_to_deal_with_Functional_Entities.html">How to Deal With Functional Entities</a></li>
    <li><a class="dropdown-item" href="../articles/Compute_functional_hill_indices.html">Compute Functional Diversity Hill Indices</a></li>
    <li><a class="dropdown-item" href="../articles/Customised_plots.html">Customised plots</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CmlMagneville/mFD/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Illustrate Functional Diversity indices based on Functional Entities</h1>
      <small class="dont-index">Source: <a href="https://github.com/CmlMagneville/mFD/blob/main/R/plot_FE_multidim.R" class="external-link"><code>R/plot_FE_multidim.R</code></a></small>
      <div class="d-none name"><code>alpha.fd.fe.plot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Graphical representation of distribution of species in Functional
Entities (FE) and of indices from Mouillot <em>et al.</em> (2014). <strong>To plot
functional indices, functional indices values must have been computed first
through the use of the</strong> <code><a href="alpha.fd.fe.html">alpha.fd.fe</a></code> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">alpha.fd.fe.plot</span><span class="op">(</span></span>
<span>  <span class="va">alpha_fd_fe</span>,</span>
<span>  <span class="va">plot_asb_nm</span>,</span>
<span>  plot_ind_nm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fred"</span>, <span class="st">"fored"</span>, <span class="st">"fvuln"</span><span class="op">)</span>,</span>
<span>  name_file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  color_fill_fored <span class="op">=</span> <span class="st">"darkolivegreen2"</span>,</span>
<span>  color_line_fred <span class="op">=</span> <span class="st">"darkolivegreen4"</span>,</span>
<span>  color_fill_bar <span class="op">=</span> <span class="st">"grey80"</span>,</span>
<span>  color_fill_fvuln <span class="op">=</span> <span class="st">"lightcoral"</span>,</span>
<span>  color_arrow_fvuln <span class="op">=</span> <span class="st">"indianred4"</span>,</span>
<span>  size_line_fred <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  size_arrow_fvuln <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  check_input <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-alpha-fd-fe">alpha_fd_fe<a class="anchor" aria-label="anchor" href="#arg-alpha-fd-fe"></a></dt>
<dd><p>output from the function <code><a href="alpha.fd.fe.html">alpha.fd.fe</a></code>
applied on assemblage of interest with <code>details_returned = TRUE</code>.</p></dd>


<dt id="arg-plot-asb-nm">plot_asb_nm<a class="anchor" aria-label="anchor" href="#arg-plot-asb-nm"></a></dt>
<dd><p>a vector containing the name of the assemblage to plot.</p></dd>


<dt id="arg-plot-ind-nm">plot_ind_nm<a class="anchor" aria-label="anchor" href="#arg-plot-ind-nm"></a></dt>
<dd><p>a vector containing the names of the indices to plot. It
can be <code>'fred'</code> to plot functional redundancy (FRed), <code>'fored'</code> to
plot functional over-redundancy (FOred) and/or <code>'fvuln'</code> to plot
functional vulnerability (FVuln). Default is all <code>3</code> indices.</p></dd>


<dt id="arg-name-file">name_file<a class="anchor" aria-label="anchor" href="#arg-name-file"></a></dt>
<dd><p>a character string with name of file to save the figure
(without extension). Default: <code>name_file = NULL</code> which means plot is
displayed.</p></dd>


<dt id="arg-color-fill-fored">color_fill_fored<a class="anchor" aria-label="anchor" href="#arg-color-fill-fored"></a></dt>
<dd><p>a R color name or an hexadecimal code referring to
the color used to fill the part of barplots that contain species in excess
in species-rich FEs. It refers to the FORed value. Default:
<code>color_fill_fored = "darkolivegreen2"</code>.</p></dd>


<dt id="arg-color-line-fred">color_line_fred<a class="anchor" aria-label="anchor" href="#arg-color-line-fred"></a></dt>
<dd><p>a R color name or an hexadecimal code referring to
the color used to draw the horizontal line referring to the FRed value.
Default: <code>color_line_fred = "darkolivegreen4"</code>.</p></dd>


<dt id="arg-color-fill-bar">color_fill_bar<a class="anchor" aria-label="anchor" href="#arg-color-fill-bar"></a></dt>
<dd><p>a R color name or an hexadecimal code referring to the
color used to draw barplots. Default: <code>color_fill_bar = "grey80"</code>.</p></dd>


<dt id="arg-color-fill-fvuln">color_fill_fvuln<a class="anchor" aria-label="anchor" href="#arg-color-fill-fvuln"></a></dt>
<dd><p>a R color name or an hexadecimal code referring to
the color used to fill barplot containing only one species for
illustrating FVuln. Default: <code>color_fill_fvuln = "lightcoral"</code>.</p></dd>


<dt id="arg-color-arrow-fvuln">color_arrow_fvuln<a class="anchor" aria-label="anchor" href="#arg-color-arrow-fvuln"></a></dt>
<dd><p>a R color name or an hexadecimal code referring to
the color used to draw the horizontal arrow showing the proportion of FEs
containing only one species for illustrating FVuln. If there is only
one FE containing one species, the arrow will be a point. Default:
<code>color_arrow_fvuln = "indianred4"</code>.</p></dd>


<dt id="arg-size-line-fred">size_line_fred<a class="anchor" aria-label="anchor" href="#arg-size-line-fred"></a></dt>
<dd><p>a numeric value referring to the size of the
horizontal line illustrating FRed. Default: <code>size_line_fred = 1.5.</code></p></dd>


<dt id="arg-size-arrow-fvuln">size_arrow_fvuln<a class="anchor" aria-label="anchor" href="#arg-size-arrow-fvuln"></a></dt>
<dd><p>a numeric value referring to the size of the arrow
showing the proportion of FEs containing only one species. Default:
<code>size_arrow_fvuln = 1</code>.</p></dd>


<dt id="arg-check-input">check_input<a class="anchor" aria-label="anchor" href="#arg-check-input"></a></dt>
<dd><p>a logical value indicating whether key features the
inputs are checked (e.g. class and/or mode of objects, names of rows
and/or columns, missing values). If an error is detected, a detailed
message is returned. Default: <code>check_input = TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>patchwork</code> object with a barplot of number of species per
FE. Indices names provided in 'plot_ind_nm' are illustrated. Functional
Redundancy (average number of species per FE) is illustrated with a
horizontal line. Functional Over-redundancy (proportion of species in
excess in FE richer than average) is illustrated with top part of these
bars filled with 'color_fill_fored'. Functional Vulnerability (proportion
of FE with a single species) is illustrated with bars of these vulnerable
FE filled with 'color_fill_fvuln' and the double-head arrow highlighting
their number. FE-based indices values on top of the plot. if
<code>name_file</code> is provided, plot saved as a 300dpi png file in the
working directory.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Mouillot <em>et al.</em> (2014) Functional over-redundancy and high functional
vulnerability in global fish faunas on tropical reefs. <em>PNAS</em>, <strong>111</strong>,
13757-13762.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Camille Magneville and Sebastien Villeger</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load Species*Traits dataframe</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"fruits_traits"</span>, package <span class="op">=</span> <span class="st">"mFD"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load Traits categories dataframe</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"fruits_traits_cat"</span>, package <span class="op">=</span> <span class="st">"mFD"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load Assemblages*Species matrix</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"baskets_fruits_weights"</span>, package <span class="op">=</span> <span class="st">"mFD"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove continuous trait</span></span></span>
<span class="r-in"><span><span class="va">fruits_traits</span>  <span class="op">&lt;-</span> <span class="va">fruits_traits</span><span class="op">[</span> , <span class="op">-</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">fruits_traits_cat</span> <span class="op">&lt;-</span> <span class="va">fruits_traits_cat</span><span class="op">[</span><span class="op">-</span><span class="fl">5</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute gathering species into FEs</span></span></span>
<span class="r-in"><span><span class="va">sp_to_fe_fruits</span> <span class="op">&lt;-</span> <span class="fu">mFD</span><span class="fu">::</span><span class="fu"><a href="sp.to.fe.html">sp.to.fe</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  sp_tr       <span class="op">=</span> <span class="va">fruits_traits</span>, </span></span>
<span class="r-in"><span>  tr_cat      <span class="op">=</span> <span class="va">fruits_traits_cat</span>, </span></span>
<span class="r-in"><span>  fe_nm_type  <span class="op">=</span> <span class="st">"fe_rank"</span>, </span></span>
<span class="r-in"><span>  check_input <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All Functional Entities have a single species.</span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co"># Get the occurrence matrix</span></span></span>
<span class="r-in"><span><span class="va">asb_sp_fruits_summ</span> <span class="op">&lt;-</span> <span class="fu">mFD</span><span class="fu">::</span><span class="fu"><a href="asb.sp.summary.html">asb.sp.summary</a></span><span class="op">(</span>asb_sp_w <span class="op">=</span> <span class="va">baskets_fruits_weights</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="va">asb_sp_fruits_occ</span> <span class="op">&lt;-</span> <span class="va">asb_sp_fruits_summ</span><span class="op">$</span><span class="st">"asb_sp_occ"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute alpha fd indices</span></span></span>
<span class="r-in"><span><span class="va">alpha_fd_fe_fruits</span> <span class="op">&lt;-</span> <span class="fu">mFD</span><span class="fu">::</span><span class="fu"><a href="alpha.fd.fe.html">alpha.fd.fe</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  asb_sp_occ       <span class="op">=</span> <span class="va">asb_sp_fruits_occ</span>, </span></span>
<span class="r-in"><span>  sp_to_fe         <span class="op">=</span> <span class="va">sp_to_fe_fruits</span>,</span></span>
<span class="r-in"><span>  ind_nm           <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fred"</span>, <span class="st">"fored"</span>, <span class="st">"fvuln"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  check_input      <span class="op">=</span> <span class="cn">TRUE</span>, </span></span>
<span class="r-in"><span>  details_returned <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Plot fd fe indices</span></span></span>
<span class="r-in"><span><span class="fu">mFD</span><span class="fu">::</span><span class="fu">alpha.fd.fe.plot</span><span class="op">(</span></span></span>
<span class="r-in"><span>  alpha_fd_fe       <span class="op">=</span> <span class="va">alpha_fd_fe_fruits</span>, </span></span>
<span class="r-in"><span>  plot_asb_nm       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"basket_1"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  plot_ind_nm       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fred"</span>, <span class="st">"fored"</span>, <span class="st">"fvuln"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  name_file         <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  color_fill_fored  <span class="op">=</span> <span class="st">"darkolivegreen2"</span>,</span></span>
<span class="r-in"><span>  color_line_fred   <span class="op">=</span> <span class="st">"darkolivegreen4"</span>,</span></span>
<span class="r-in"><span>  color_fill_bar    <span class="op">=</span> <span class="st">"grey80"</span>,</span></span>
<span class="r-in"><span>  color_fill_fvuln  <span class="op">=</span> <span class="st">"lightcoral"</span>,</span></span>
<span class="r-in"><span>  color_arrow_fvuln <span class="op">=</span> <span class="st">"indianred4"</span>,</span></span>
<span class="r-in"><span>  size_line_fred    <span class="op">=</span> <span class="fl">1.5</span>,</span></span>
<span class="r-in"><span>  size_arrow_fvuln  <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  check_input       <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 8 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-plt img"><img src="alpha.fd.fe.plot-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Camille Magneville, Nicolas Loiseau, Camille Albouy, Nicolas Casajus, Thomas Claverie, Arthur Escalas, Fabien Leprieur, Eva Maire, David Mouillot, Sebastien Villeger.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

