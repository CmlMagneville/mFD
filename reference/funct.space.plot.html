<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot species position in a functional space — funct.space.plot • mFD</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot species position in a functional space — funct.space.plot" />
<meta property="og:description" content="This function illustrates the position of species along pairs of axes of a
functional space" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mFD</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Compute_and_interpret_quality_of_functional_spaces.html">Compute and Interpret Quality of Functional Spaces</a>
    </li>
    <li>
      <a href="../articles/Compute_functional_hill_indices.html">Compute Functional Hill Indices</a>
    </li>
    <li>
      <a href="../articles/Continuous_traits_framework.html">Continuous Traits Framework</a>
    </li>
    <li>
      <a href="../articles/How_to_deal_with_Functional_Entities.html">How to Deal With Functional Entities</a>
    </li>
    <li>
      <a href="../articles/mFD_general_workflow.html">mFD: General Workflow</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CmlMagneville/mFD/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot species position in a functional space</h1>
    <small class="dont-index">Source: <a href='https://github.com/CmlMagneville/mFD/blob/master/R/plot_funct_space.R'><code>R/plot_funct_space.R</code></a></small>
    <div class="hidden name"><code>funct.space.plot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function illustrates the position of species along pairs of axes of a
functional space</p>
    </div>

    <pre class="usage"><span class='fu'>funct.space.plot</span><span class='op'>(</span>
  <span class='va'>sp_faxes_coord</span>,
  faxes <span class='op'>=</span> <span class='cn'>NULL</span>,
  name_file <span class='op'>=</span> <span class='cn'>NULL</span>,
  faxes_nm <span class='op'>=</span> <span class='cn'>NULL</span>,
  range_faxes <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>NA</span>, <span class='cn'>NA</span><span class='op'>)</span>,
  color_bg <span class='op'>=</span> <span class='st'>"grey95"</span>,
  color_pool <span class='op'>=</span> <span class='st'>"darkturquoise"</span>,
  fill_pool <span class='op'>=</span> <span class='st'>"white"</span>,
  shape_pool <span class='op'>=</span> <span class='fl'>21</span>,
  size_pool <span class='op'>=</span> <span class='fl'>1</span>,
  plot_ch <span class='op'>=</span> <span class='cn'>TRUE</span>,
  color_ch <span class='op'>=</span> <span class='st'>"darkblue"</span>,
  fill_ch <span class='op'>=</span> <span class='st'>"white"</span>,
  alpha_ch <span class='op'>=</span> <span class='fl'>1</span>,
  plot_vertices <span class='op'>=</span> <span class='cn'>TRUE</span>,
  color_vert <span class='op'>=</span> <span class='st'>"darkturquoise"</span>,
  fill_vert <span class='op'>=</span> <span class='st'>"darkturquoise"</span>,
  shape_vert <span class='op'>=</span> <span class='fl'>22</span>,
  size_vert <span class='op'>=</span> <span class='fl'>1</span>,
  plot_sp_nm <span class='op'>=</span> <span class='cn'>NULL</span>,
  nm_size <span class='op'>=</span> <span class='fl'>3</span>,
  nm_color <span class='op'>=</span> <span class='st'>"black"</span>,
  nm_fontface <span class='op'>=</span> <span class='st'>"plain"</span>,
  check_input <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sp_faxes_coord</th>
      <td><p>a matrix of species coordinates in a
multidimensional functional space. Species coordinates have been retrieved
thanks to <code><a href='tr.cont.fspace.html'>tr.cont.fspace</a></code> or <code><a href='quality.fspaces.html'>quality.fspaces</a></code>.</p></td>
    </tr>
    <tr>
      <th>faxes</th>
      <td><p>a vector with names of axes to plot (as columns names in
<code>sp_faxes_coord</code>). <strong>You can only plot from 2 to 4 axes for
graphical reasons</strong>. Default: <code>faxes = NULL</code> (the four first axes will be
plotted).</p></td>
    </tr>
    <tr>
      <th>name_file</th>
      <td><p>a character string with name of file to save the
figure (without extension). Default: <code>name_file = NULL</code> which means plot
is displayed.</p></td>
    </tr>
    <tr>
      <th>faxes_nm</th>
      <td><p>a vector with axes labels for figure. Default: as
<code>faxes</code>).</p></td>
    </tr>
    <tr>
      <th>range_faxes</th>
      <td><p>a vector with minimum and maximum values of axes
used for all plots to have a fair representation of position of species.
Default: <code>range_faxes = c(NA, NA)</code> (the range is computed
according to the range of values among all axes). If at least one of the
value provided is within the range of coordinates, then convex hull could
not be plotted so <code>plot_ch</code> should be <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>color_bg</th>
      <td><p>a R color name or an hexadecimal code used to fill plot
background. Default: <code>color_bg = "grey95"</code>.</p></td>
    </tr>
    <tr>
      <th>color_pool</th>
      <td><p>a R color name or an hexadecimal code referring to the
color of symbol for species. Default: <code>color_pool = 'darkgreen'</code>.</p></td>
    </tr>
    <tr>
      <th>fill_pool</th>
      <td><p>a R color name or an hexadecimal code referring to the
color to fill species symbol (if <code>shape_pool</code> &gt;20). Default:
<code>fill_pool = 'white'</code>.</p></td>
    </tr>
    <tr>
      <th>shape_pool</th>
      <td><p>a numeric value referring to the shape of symbol used for
species. Default: <code>shape_pool = 21</code> (filled circle).</p></td>
    </tr>
    <tr>
      <th>size_pool</th>
      <td><p>a numeric value referring to the size of symbol for
species. Default: <code>size_pool = 1</code>.</p></td>
    </tr>
    <tr>
      <th>plot_ch</th>
      <td><p>a logical value indicating whether the convex hull shaping
the pool of species should be illustrated. If <code>plot_ch = TRUE</code>, convex
hull of all species in the multidimensional space described in
<code>sp_faxes_coord</code> is computed and its projection in 2D spaces are
drawn as polygons. Default: <code>plot_ch = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>color_ch</th>
      <td><p>a R color name or an hexadecimal code referring to the
border of the convex hull filled by the pool of species. Default:
<code>color_ch = "darkblue"</code>.</p></td>
    </tr>
    <tr>
      <th>fill_ch</th>
      <td><p>a R color name or an hexadecimal code referring to the
filling of the convex hull filled by the pool of species. Default:
<code>fill_ch = "white"</code>.</p></td>
    </tr>
    <tr>
      <th>alpha_ch</th>
      <td><p>a numeric value for transparency of the filling of the
convex hull (0 = high transparency, 1 = no transparency). Default:
<code>alpha_ch = 1</code>.</p></td>
    </tr>
    <tr>
      <th>plot_vertices</th>
      <td><p>a logical value defining whether vertices of the convex
hull shaping the pool of species should be illustrated. If
<code>plot_vertices = TRUE</code>, vertices of convex hull computed in the
multidimensional space from <code>sp_faxes_coord</code> and are plotted with
aesthetics listed below '..._vert' (species not being vertices are plotted
with aesthetics described above for '.._sp'. Default:
<code>plot_vertices = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>color_vert</th>
      <td><p>a character value referring to the color of symbol for
vertices if <code>plot_vertices = TRUE</code>.
Default: <code>color_vert = 'darkturquoise'</code>.</p></td>
    </tr>
    <tr>
      <th>fill_vert</th>
      <td><p>a character value referring to the color for filling symbol
for vertices  (if <code>shape_vert</code> &gt;20). Default:
<code>fill_vert = 'darkturquoise'</code>.</p></td>
    </tr>
    <tr>
      <th>shape_vert</th>
      <td><p>a numeric value referring to the symbol used to show
vertices position if <code>plot_vertices = TRUE</code>. Default: <code>shape_vert = 23</code>
(filled diamond).</p></td>
    </tr>
    <tr>
      <th>size_vert</th>
      <td><p>a numeric value referring to the size of symbol for
vertices Default: <code>size_vert = 1</code>.</p></td>
    </tr>
    <tr>
      <th>plot_sp_nm</th>
      <td><p>a vector containing species names that are to be printed
near their position. Default: <code>plot_nm_sp = NULL</code> (no name plotted).</p></td>
    </tr>
    <tr>
      <th>nm_size</th>
      <td><p>a numeric value for size of species label. Default is <code>3</code>
(in points).</p></td>
    </tr>
    <tr>
      <th>nm_color</th>
      <td><p>a R color name or an hexadecimal code referring to the color
of species label. Default: <code>nm_color = 'black'</code>.</p></td>
    </tr>
    <tr>
      <th>nm_fontface</th>
      <td><p>a character string for font of species labels (e.g.
"italic", "bold"). Default: <code>nm_fontface = 'plain'</code>.</p></td>
    </tr>
    <tr>
      <th>check_input</th>
      <td><p>a logical value indicating whether key features the
inputs are checked (e.g. class and/or mode of objects, names of rows
and/or columns, missing values). If an error is detected, a detailed
message is returned. Default: <code>check_input = TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>name_file</code> is <code>NULL</code>, a list containing <code>ggplot2</code>
objects is returned: plots of functional space along all pairs of axes
(named according to axes names, e.g. "PC1_PC2"), figure 'caption', and the
full figure 'patchwork' built using the library <code>patchwork</code>.
If <code>name_file</code> is not <code>NULL</code> a 300dpi png file
is saved in the working directory. Ranges of axes are the same for all
panels and if required projection of the convex hull computed in the
multidimensional space provided as input <code>sp_faxes_coord</code> is
illustrated with a polygon. Species being vertices of this convex hull are
shown with aesthetics provided as inputs <code>..._vert</code>. Labels for
species listed in <code>plot_sp_nm</code> are added with if required arrows
using <code>ggrepel</code>. Summary about species and dimensionality are printed
on top-right corner of the figure.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Camille Magneville and Sebastien Villeger</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Load Species*Traits dataframe:</span>
 <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"fruits_traits"</span>, package <span class='op'>=</span> <span class='st'>"mFD"</span><span class='op'>)</span>

<span class='co'># Load Assemblages*Species dataframe:</span>
 <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"baskets_fruits_weights"</span>, package <span class='op'>=</span> <span class='st'>"mFD"</span><span class='op'>)</span>

<span class='co'># Load Traits categories dataframe:</span>
 <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"fruits_traits_cat"</span>, package <span class='op'>=</span> <span class='st'>"mFD"</span><span class='op'>)</span>

<span class='co'># Compute functional distance</span>
 <span class='va'>sp_dist_fruits</span> <span class='op'>&lt;-</span> <span class='fu'>mFD</span><span class='fu'>::</span><span class='fu'><a href='funct.dist.html'>funct.dist</a></span><span class='op'>(</span>sp_tr         <span class='op'>=</span> <span class='va'>fruits_traits</span>,
                                  tr_cat         <span class='op'>=</span> <span class='va'>fruits_traits_cat</span>,
                                  metric         <span class='op'>=</span> <span class='st'>"gower"</span>,
                                  scale_euclid   <span class='op'>=</span> <span class='st'>"scale_center"</span>,
                                  ordinal_var    <span class='op'>=</span> <span class='st'>"classic"</span>,
                                  weight_type    <span class='op'>=</span> <span class='st'>"equal"</span>,
                                  stop_if_NA     <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Compute functional spaces quality to retrieve species coordinates matrix:</span>
 <span class='va'>fspaces_quality_fruits</span> <span class='op'>&lt;-</span> <span class='fu'>mFD</span><span class='fu'>::</span><span class='fu'><a href='quality.fspaces.html'>quality.fspaces</a></span><span class='op'>(</span>
  sp_dist             <span class='op'>=</span> <span class='va'>sp_dist_fruits</span>,
  maxdim_pcoa         <span class='op'>=</span> <span class='fl'>10</span>,
  deviation_weighting <span class='op'>=</span> <span class='st'>"absolute"</span>,
  fdist_scaling       <span class='op'>=</span> <span class='cn'>FALSE</span>,
  fdendro             <span class='op'>=</span> <span class='st'>"average"</span><span class='op'>)</span>

<span class='co'># Retrieve species coordinates matrix:</span>
<span class='va'>sp_faxes_coord_fruits</span> <span class='op'>&lt;-</span> <span class='va'>fspaces_quality_fruits</span><span class='op'>$</span><span class='va'>details_fspaces</span><span class='op'>$</span><span class='va'>sp_pc_coord</span>

<span class='co'># Plot functional spaces:</span>
<span class='fu'>mFD</span><span class='fu'>::</span><span class='fu'>funct.space.plot</span><span class='op'>(</span>
 sp_faxes_coord    <span class='op'>=</span> <span class='va'>sp_faxes_coord_fruits</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"PC1"</span>, <span class='st'>"PC2"</span>, <span class='st'>"PC3"</span>, <span class='st'>"PC4"</span><span class='op'>)</span><span class='op'>]</span>,
  faxes             <span class='op'>=</span> <span class='cn'>NULL</span>,
  name_file         <span class='op'>=</span> <span class='cn'>NULL</span>,
  faxes_nm          <span class='op'>=</span> <span class='cn'>NULL</span>,
  range_faxes       <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>NA</span>, <span class='cn'>NA</span><span class='op'>)</span>,
  color_bg          <span class='op'>=</span> <span class='st'>"grey95"</span>,
  color_pool          <span class='op'>=</span> <span class='st'>"darkturquoise"</span>,
  fill_pool           <span class='op'>=</span> <span class='st'>"white"</span>,
  shape_pool          <span class='op'>=</span> <span class='fl'>21</span>,
  size_pool           <span class='op'>=</span> <span class='fl'>1</span>,
  plot_ch           <span class='op'>=</span> <span class='cn'>TRUE</span>,
  color_ch          <span class='op'>=</span> <span class='st'>"darkblue"</span>,
  fill_ch           <span class='op'>=</span> <span class='st'>"white"</span>,
  alpha_ch          <span class='op'>=</span> <span class='fl'>1</span>,
  plot_vertices     <span class='op'>=</span> <span class='cn'>TRUE</span>,
  color_vert        <span class='op'>=</span> <span class='st'>"darkturquoise"</span>,
  fill_vert         <span class='op'>=</span> <span class='st'>"darkturquoise"</span>,
  shape_vert        <span class='op'>=</span> <span class='fl'>22</span>,
  size_vert         <span class='op'>=</span> <span class='fl'>1</span>,
 plot_sp_nm         <span class='op'>=</span> <span class='cn'>NULL</span>,
 nm_size            <span class='op'>=</span> <span class='fl'>3</span>,
 nm_color           <span class='op'>=</span> <span class='st'>"black"</span>,
 nm_fontface        <span class='op'>=</span> <span class='st'>"plain"</span>,
 check_input        <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Camille Magneville, Nicolas Loiseau, Camille Albouy, Nicolas Casajus, Thomas Claverie, Arthur Escalas, Fabien Leprieur, Eva Maire, David Mouillot, Sebastien Villeger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


